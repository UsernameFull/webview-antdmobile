(this["webpackJsonpwebview-antdmobile"]=this["webpackJsonpwebview-antdmobile"]||[]).push([[0],{458:function(e,t,a){e.exports=a(870)},463:function(e,t,a){},870:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(17),s=a.n(c),l=a(34),m=(a(445),a(463),a(32)),i=(a(532),a(140),a(430),a(135)),o=(m.a,m.a,m.a,a(219)),u=m.d.Item,d=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],i=e.ticker,d=e.sensornum;Object(n.useEffect)((function(){1===i&&f()}),[i]);var f=function(){var e=parseInt((new Date).valueOf()/1e3)-5;fetch("http://47.110.147.58:55556/api/getdata",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({starttime:e-40,endtime:e,interval:2,source:d})}).then((function(e){return e.json()})).then((function(e){e.data.msg.map((function(e){e.time=8+parseInt(e.time/60/60%24)+":"+parseInt(e.time/60%60)})),e.data.msg[0].value=Math.max.apply(Math,Object(o.a)(e.data.msg.map((function(e){return e.value}))));for(var t=1;t<e.data.msg.length;t++)0===e.data.msg[t].value&&(e.data.msg[t].value=e.data.msg[t-1].value);return s(e.data.msg[e.data.msg.length-1].value)})).catch((function(e){console.log("fetch data failed",e)}))};return r.a.createElement("div",null,r.a.createElement(m.d,{renderHeader:d,className:"my-list"},r.a.createElement(u,null,c)))},f=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],m=e.ticker,u=e.sensornum;Object(n.useEffect)((function(){1===m&&d()}),[m]);var d=function(){var e=parseInt((new Date).getTime()/1e3)-5;fetch("http://47.110.147.58:55556/api/getdata",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({starttime:e-60,endtime:e,interval:2,source:u})}).then((function(e){return e.json()})).then((function(e){e.data.msg.map((function(e){e.time=parseInt(8+e.time/60/60%24)+":"+parseInt(e.time/60%60)+":"+parseInt(e.time%60)})),e.data.msg[0].value=Math.max.apply(Math,Object(o.a)(e.data.msg.map((function(e){return e.value}))));for(var t=1;t<e.data.msg.length;t++)0===e.data.msg[t].value&&(e.data.msg[t].value=e.data.msg[t-1].value);return s(e.data.msg)})).catch((function(e){console.log("fetch data failed",e)}))},f={data:c,width:300,height:200,stepType:"vh",animation:!1,title:"source",xField:"time",yField:"value"};return r.a.createElement(i.a,f)},p=a(89),g=a(90),v=a(137),h=a(136),E=a(443),b=a.n(E),I=a(444),O=a.n(I),j=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],m=(e.source,e.startTime),o=e.endTime;Object(n.useEffect)((function(){u(),console.log(m),console.log(o)}),[m]);var u=function(){fetch("http://47.110.147.58:55556/api/getdata",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({starttime:parseInt((new Date).getTime()/1e3)-3600,endtime:parseInt((new Date).getTime()/1e3),interval:60,source:"sensor1"})}).then((function(e){return e.json()})).then((function(e){return e.data.msg.map((function(e){e.time=8+parseInt(e.time/60/60%24)+":"+parseInt(e.time/60%60)})),s(e.data.msg)})).catch((function(e){console.log("fetch data failed",e)}))},d={data:c,width:300,stepType:"vh",title:"source",xField:"time",yField:"value"};return r.a.createElement(i.a,d)},y=new Date;r.a.Component;function w(){return r.a.createElement(T,null)}var T=function(){var e=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=Date.now(),t=setInterval((function(){r(Math.floor((Date.now()-e)/1e3%2))}),50);return function(){return clearInterval(t)}}),[]),a}();return r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"sub-title"},"Basic"),r.a.createElement(m.c,null,r.a.createElement(m.c.Item,null,r.a.createElement(d,{ticker:e,sensornum:"sensor0"})),r.a.createElement(m.c.Item,null,r.a.createElement(d,{ticker:e,sensornum:"sensor1"}))),r.a.createElement(m.g,{size:"lg"}),r.a.createElement(m.c,null,r.a.createElement(m.c.Item,null,r.a.createElement(d,{ticker:e,sensornum:"sensor4"})),r.a.createElement(m.c.Item,null,r.a.createElement(d,{ticker:e,sensornum:"sensor5"}))),r.a.createElement(m.g,{size:"lg"}),r.a.createElement("div",{className:"sub-title"},"Basic"),r.a.createElement(m.c,null,r.a.createElement(m.c.Item,null,r.a.createElement(f,{ticker:e,sensornum:"sensor0"})),r.a.createElement(m.c.Item,null,r.a.createElement(f,{ticker:e,sensornum:"sensor1"}))),r.a.createElement(m.c,null,r.a.createElement(m.c.Item,null,r.a.createElement(f,{ticker:e,sensornum:"sensor4"})),r.a.createElement(m.c.Item,null,r.a.createElement(f,{ticker:e,sensornum:"sensor5"}))))},k=document.getElementById("root");s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),k)}},[[458,1,2]]]);
//# sourceMappingURL=main.8beac1af.chunk.js.map